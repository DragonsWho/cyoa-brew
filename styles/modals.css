/* === MODALS & OVERLAYS === */
.modal-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.8); z-index: 5000; display: flex; align-items: center; justify-content: center; }
.modal-content { background: #1a1a1a; padding: 20px; border: 1px solid #444; border-radius: 8px; }

/* === TEXT & TOOLTIP === */
.text-content { display: none; background: rgba(0,0,0,0.85); color: #ddd; padding: 10px; font-size: 14px; line-height: 1.4; max-height: 100%; overflow-y: auto; pointer-events: none; backdrop-filter: blur(2px); border-top: 1px solid #444; position: relative; z-index: 10; }
body.text-mode .text-content { display: block; pointer-events: auto; }
.text-content strong { display: block; color: #fff; font-size: 1.1em; margin-bottom: 4px; border-bottom: 1px solid #555; }

#tooltip { position: fixed; z-index: 3000; background: rgba(10,10,10,0.95); border: 1px solid #444; padding: 15px; border-radius: 8px; pointer-events: none; font-size: 0.95em; max-width: 380px; box-shadow: 0 10px 40px #000; backdrop-filter: blur(8px); opacity: 0; transition: opacity 0.2s; color: #ccc; }
#tooltip.visible { opacity: 1; pointer-events: auto; }
#tooltip h4 { margin: 0 0 8px 0; color: #fff; border-bottom: 1px solid #333; padding-bottom: 6px; }

/* === HELP MODAL STYLES (Полный блок из оригинала) === */
.help-modal-content { width: 600px; max-width: 95%; max-height: 85vh; display: flex; flex-direction: column; padding: 0 !important; overflow: hidden; }
.help-header { padding: 15px 20px; background: #222; border-bottom: 1px solid #333; display: flex; justify-content: space-between; align-items: center; }
.help-header h3 { margin: 0; color: #fff; font-size: 1.2rem; }
.help-header .close-btn { background: transparent; border: none; color: #888; font-size: 1.5rem; cursor: pointer; }
.help-header .close-btn:hover { color: #fff; }
.help-body { padding: 20px; overflow-y: auto; flex: 1; }
.help-section { margin-bottom: 25px; }
.help-section h4 { color: #4CAF50; border-bottom: 1px solid #333; padding-bottom: 8px; margin-top: 0; margin-bottom: 15px; }
.help-item { background: #252525; border: 1px solid #333; border-radius: 6px; margin-bottom: 8px; overflow: hidden; }
.help-row { display: flex; align-items: center; padding: 10px 15px; }
.help-row .cmd { font-family: monospace; background: #111; padding: 2px 6px; border-radius: 4px; color: #FFD700; margin-right: 15px; min-width: 80px; text-align: center; }
.help-row .desc { flex: 1; color: #ddd; font-size: 0.9rem; }
.help-row .expand-btn { width: 24px; height: 24px; border-radius: 50%; border: none; background: #333; color: #888; cursor: pointer; font-size: 12px; display: flex; align-items: center; justify-content: center; transition: all 0.2s; }
.help-row .expand-btn:hover { background: #444; color: #fff; }
.full-desc { background: #1a1a1a; padding: 10px 15px; border-top: 1px solid #333; font-size: 0.85rem; color: #aaa; line-height: 1.5; }
.copy-tiny-btn { display: inline-block; margin-left: 10px; font-size: 10px; padding: 2px 6px; background: #333; color: #fff; border: 1px solid #555; border-radius: 3px; cursor: pointer; }
.copy-tiny-btn:hover { background: #4CAF50; border-color: #4CAF50; }

.ai-tip-box { background: rgba(46, 125, 50, 0.1); border: 1px solid #2e7d32; border-radius: 8px; padding: 15px; margin-bottom: 15px; }
.ai-tip-box h5 { margin: 0 0 10px 0; color: #81c784; font-size: 1rem; }
.ai-tip-box p { margin: 0 0 10px 0; font-size: 0.9rem; color: #ccc; line-height: 1.5; }
.ai-tip-box p:last-child { margin-bottom: 0; }
.ai-tip-box ul { margin: 0; padding-left: 20px; font-size: 0.9rem; color: #ccc; }
.ai-tip-box a { color: #64b5f6; text-decoration: none; }
.ai-tip-box a:hover { text-decoration: underline; }

.code-editor { width: 100%; background: #111; color: #0f0; font-family: monospace; border: 1px solid #333; padding: 8px; border-radius: 4px; }
.primary-btn { background: #2e7d32; border: 1px solid #1b5e20; color: white; border-radius: 4px; padding: 8px 16px; cursor: pointer; }
.primary-btn:hover { background: #388e3c; }