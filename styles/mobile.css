/* === MOBILE ADAPTATION === */
@media (max-width: 768px) {
    /* 1. Points Bar */
    #points-bar {
        height: 60px;
        padding: 0 50px 0 10px; /* Space for buttons on right */
        justify-content: flex-start;
        overflow-x: auto;
        gap: 15px;
        scrollbar-width: none; 
    }
    #points-bar::-webkit-scrollbar { display: none; }

    .currency {
        flex-direction: column; justify-content: center; align-items: center; gap: 0;
        min-width: 60px; max-width: 100px;
        border-right: 1px solid rgba(255,255,255,0.1);
        padding-right: 15px;
    }
    .currency:last-child { border-right: none; }
    
    .curr-name { 
        font-size: 0.7rem; color: var(--pb-label); width: 100%; text-align: center;
        overflow-x: auto; white-space: nowrap; scrollbar-width: none; pointer-events: auto; padding-bottom: 2px;
        mask-image: linear-gradient(to right, black 85%, transparent 100%);
        -webkit-mask-image: linear-gradient(to right, black 85%, transparent 100%);
    }
    .curr-name::-webkit-scrollbar { display: none; }
    .curr-val { font-size: 1.1rem; }

    .help-bar-btn { display: none !important; }

    /* 2. Bottom Tools */
    .bottom-tools {
        left: auto; right: 0; bottom: 0;
        width: 45px; height: 60px;
        flex-direction: column;
        border-radius: 0;
        background: var(--pb-bg) !important;
        border: none !important;
        border-top: 1px solid rgba(255,255,255,0.1) !important;
        padding: 0; gap: 0; justify-content: space-evenly;
    }

    .ctrl-btn { width: 100%; height: 50%; border-radius: 0; color: var(--pb-label) !important; }
    #edit-toggle { display: none !important; }

    /* 3. Tooltip */
    #tooltip {
        bottom: 60px; left: 0; right: 0; top: auto !important;
        border-radius: 0; border: none; border-top: 1px solid #444;
        max-height: 40vh; transform: none !important;
        font-size: 0.85rem; padding: 10px;
    }

    /* 4. Mini Badges Size Fix */
    .qty-badge, .roll-result-badge { width: 18px !important; height: 18px !important; font-size: 9px !important; border-width: 1px !important; }
    .group-budget-badge { font-size: 7px !important; padding: 2px 5px !important; border-width: 1px !important; }
    .click-zone.selected { border-width: 2px !important; }

    /* 5. VISUAL CARD RESTORATION */
    .click-zone.visual-card { container-type: size; flex-direction: column !important; border-width: 1px !important; }
    .vc-content { height: 100%; overflow: hidden; padding: 2cqw !important; }
    .vc-title { font-size: 10cqw !important; line-height: 1.1; margin-bottom: 2cqh; flex-shrink: 0; }
    .vc-cost { font-size: 8cqw !important; margin-bottom: 1cqh; flex-shrink: 0; }
    .vc-body { font-size: 6cqw !important; overflow-y: auto !important; scrollbar-width: none; flex: 1; pointer-events: auto; }
    .vc-req { display: none !important; }
}